# syntax=docker/dockerfile:1

# Inherits from the metacog-base Docker Image.
FROM metacog-base

# Copies the Datasets folder on your computer to the Datasets folder in the Docker Container.
COPY ./Datasets /Datasets
# Copies the Args_Class_Module file from the main directory on your computer to the main directory in the Docker Container.
COPY ./Args_Class_Module.py /Args_Class_Module.py
# Copies the specific container folder (Model2) in the main directory on your computer to the Docker Container's main folder.
COPY ./Containers/Model3 /

# Runs the specific Results code segment from the Dynamic-CFAR algorithm
#      specified in the corresponding Python Script.
# This file was copied in the third COPY statement that collects the whole Model3 folder.
# This reads in the max_disc_list.csv generated by the evaluator, the most likely distribution
#       type for each data point.
# Each datapoint is checked to see if the model number is equal to the most likely distribution 
#       type (specified by an index number), if so the model is also called to calculate FA_CD.
# The FA_CD calculation for each model is saved to fa_cd_model_n.csv
# Each value is reset to zero at model start so that if files already exist the value is overwritten,
#       this ensures that values are not residual across multiple runtimes.
CMD ["python3", "./Model-3.py"]